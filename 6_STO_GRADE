6. Create table to store student details like roll no, name, marks of 5 different subjects. Write
stored function which will take student roll no as input and will calculate grade of that student.

CREATE DATABASE PRACTICAL6;
USE PRACTICAL6;

CREATE TABLE students (
    roll_no INT PRIMARY KEY,
    name VARCHAR(50),
    subject1 INT,
    subject2 INT,
    subject3 INT,
    subject4 INT,
    subject5 INT
);

DELIMITER //

CREATE FUNCTION calculate_grade(student_roll_no INT) RETURNS CHAR DETERMINISTIC
BEGIN
    DECLARE total_marks INT;
    DECLARE average_marks FLOAT;
    DECLARE grade CHAR;
    
    SELECT (subject1 + subject2 + subject3 + subject4 + subject5) INTO total_marks FROM students WHERE roll_no = student_roll_no;
    
    IF total_marks IS NULL THEN
        RETURN 'Student not found';
    END IF;
    
    SET average_marks = total_marks / 5;
    
    IF average_marks >= 90 THEN
        SET grade = 'A';
    ELSEIF average_marks >= 80 THEN
        SET grade = 'B';
    ELSEIF average_marks >= 70 THEN
        SET grade = 'C';
    ELSEIF average_marks >= 60 THEN
        SET grade = 'D';
    ELSE
        SET grade = 'F';
    END IF;
    
    RETURN grade;
END //

DELIMITER ;
